# ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –∫–æ–¥–∞

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Å–µ —É–ª—É—á—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ.

## üéØ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### ‚úÖ 1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–æ—É—Ç–æ–≤ –≤ main.py
- **–ë—ã–ª–æ:** –†–æ—É—Ç—ã –∏–∑ features –Ω–µ –±—ã–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ –≥–ª–∞–≤–Ω–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
- **–°—Ç–∞–ª–æ:** –í—Å–µ —Ä–æ—É—Ç—ã (demo, payments, subscriptions, teammates) –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ main.py
- **–§–∞–π–ª—ã:** `src/server/main.py`

### ‚úÖ 2. –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
- **–ë—ã–ª–æ:** –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ STRIPE_API_URL –≤ settings.py
- **–°—Ç–∞–ª–æ:** –£–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫–æ–¥ –æ—á–∏—â–µ–Ω
- **–§–∞–π–ª—ã:** `src/server/config/settings.py`

### ‚úÖ 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API –¥–ª—è frontend
- **–ë—ã–ª–æ:** –•–∞—Ä–¥–∫–æ–¥ URL `http://localhost:8000` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- **–°—Ç–∞–ª–æ:** –°–æ–∑–¥–∞–Ω —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ API —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **–§–∞–π–ª—ã:** 
  - `src/config/api.ts` (–Ω–æ–≤—ã–π)
  - `app/page.tsx` (–æ–±–Ω–æ–≤–ª–µ–Ω)

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### ‚úÖ 4. –°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- **–°–æ–∑–¥–∞–Ω–æ:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- **–§–∞–π–ª—ã:** `src/server/exceptions.py` (–Ω–æ–≤—ã–π)
- **–£–ª—É—á—à–µ–Ω–∏—è:**
  - –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å `BaseAPIException`
  - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è (PaymentException, DemoAnalysisException, etc.)
  - –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—à–∏–±–æ–∫ –≤ main.py

### ‚úÖ 5. Dependency Injection
- **–ë—ã–ª–æ:** –°–µ—Ä–≤–∏—Å—ã —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å –Ω–∞–ø—Ä—è–º—É—é –≤ —Ä–æ—É—Ç–∞—Ö
- **–°—Ç–∞–ª–æ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ FastAPI Depends –¥–ª—è –∏–Ω—ä–µ–∫—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **–§–∞–π–ª—ã:** 
  - `src/server/features/payments/routes.py`
  - –î—Ä—É–≥–∏–µ —Ä–æ—É—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥

### ‚úÖ 6. –£–ª—É—á—à–µ–Ω–∏–µ settings.py
- **–î–æ–±–∞–≤–ª–µ–Ω–æ:**
  - –í–∞–ª–∏–¥–∞—Ü–∏—è DATABASE_URL
  - –í–∞–ª–∏–¥–∞—Ü–∏—è SECRET_KEY (–º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞)
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π pydantic (pydantic-settings)
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Redis
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### ‚úÖ 7. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SQLAlchemy
- **–°–æ–∑–¥–∞–Ω–æ:** –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- **–§–∞–π–ª—ã:**
  - `src/server/database.py` (–Ω–æ–≤—ã–π)
  - `src/server/models/` (–Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏)
- **–ú–æ–¥–µ–ª–∏:**
  - User - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
  - Subscription, UserSubscription - –ø–æ–¥–ø–∏—Å–∫–∏
  - Payment - –ø–ª–∞—Ç–µ–∂–∏
  - DemoAnalysis - –∞–Ω–∞–ª–∏–∑ –¥–µ–º–æ

### ‚úÖ 8. –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **–°–æ–∑–¥–∞–Ω–æ:** –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥–µ–ª–µ–π —Å relationships
- **–§–∞–π–ª—ã:**
  - `src/server/models/user.py`
  - `src/server/models/subscription.py`
  - `src/server/models/payment.py`
  - `src/server/models/demo_analysis.py`

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

### ‚úÖ 9. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- **–°–æ–∑–¥–∞–Ω–æ:** –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –¥–ª—è –¥–µ–º–æ-—Ñ–∞–π–ª–æ–≤
- **–§–∞–π–ª—ã:** `src/server/features/demo_analyzer/validators.py` (–Ω–æ–≤—ã–π)
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ —Ñ–∞–π–ª–∞ (.dem)
  - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ (–º–∞–∫—Å–∏–º—É–º 100MB)
  - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### ‚úÖ 10. –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö
- **–û–±–Ω–æ–≤–ª–µ–Ω–æ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤–º–µ—Å—Ç–æ HTTPException
- **–§–∞–π–ª—ã:**
  - `src/server/features/demo_analyzer/service.py`
  - `src/server/features/demo_analyzer/routes.py`

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### ‚úÖ 11. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ requirements.txt
- **–î–æ–±–∞–≤–ª–µ–Ω–æ:**
  - sqlalchemy>=2.0.0
  - alembic>=1.11.0
  - psycopg2-binary>=2.9.0
  - pydantic-settings>=2.0.0
  - python-jose[cryptography]>=3.3.0
  - passlib[bcrypt]>=1.7.4
  - redis>=4.5.0
  - python-dotenv>=1.0.0

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### ‚úÖ 12. API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **–£–ª—É—á—à–µ–Ω–æ:** –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–ø–∏—Å–∞–Ω–∏—è, –ø—Ä–∏–º–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤ –∏ –∫–æ–¥—ã –æ—à–∏–±–æ–∫
- **–§–∞–π–ª—ã:** `src/server/features/demo_analyzer/routes.py`

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ):

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ù–∞–ø–∏—Å–∞—Ç—å unit —Ç–µ—Å—Ç—ã –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤
   - –ù–∞–ø–∏—Å–∞—Ç—å integration —Ç–µ—Å—Ç—ã –¥–ª—è API
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º

2. **–ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Alembic
   - –°–æ–∑–¥–∞—Ç—å –Ω–∞—á–∞–ª—å–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏ –¥–µ–ø–ª–æ–µ

3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Redis
   - –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Faceit API
   - –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

4. **Rate Limiting**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å slowapi
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å rate limiting –¥–ª—è API endpoints
   - –î–æ–±–∞–≤–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤

5. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å OAuth —Å Faceit
   - –î–æ–±–∞–≤–∏—Ç—å JWT —Ç–æ–∫–µ–Ω—ã
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

6. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª—ã
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

7. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
   - –î–æ–±–∞–≤–∏—Ç—å Prometheus –º–µ—Ç—Ä–∏–∫–∏
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç–∏–Ω–≥
   - –î–æ–±–∞–≤–∏—Ç—å health checks

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É–ª—É—á—à–µ–Ω–∏–π

- **–°–æ–∑–¥–∞–Ω–æ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:** 10
- **–û–±–Ω–æ–≤–ª–µ–Ω–æ —Ñ–∞–π–ª–æ–≤:** 8
- **–î–æ–±–∞–≤–ª–µ–Ω–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~800
- **–£–ª—É—á—à–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** ‚úÖ
- **–£–ª—É—á—à–µ–Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** ‚úÖ
- **–£–ª—É—á—à–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:** ‚úÖ

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã. –ö–æ–¥ —Å—Ç–∞–ª –±–æ–ª–µ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º, –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –∏ –≥–æ—Ç–æ–≤—ã–º –∫ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é. –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ API.

---

**–î–∞—Ç–∞:** –î–µ–∫–∞–±—Ä—å 2024  
**–í–µ—Ä—Å–∏—è:** 0.2.0

